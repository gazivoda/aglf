<div class="row" matchHeight="card">
  <div class="col-xl-3 col-lg-6 col-md-6 col-12">
    <div class="card gradient-purple-bliss">
      <div class="card-body">
        <div class="card-block pt-2 pb-0">
          <div class="media first-media">
            <div class="media-right white text-right">
              <i class="ft-user first-media-i"></i>
            </div>
            <div class="media-body white text-left">
              <h2 class="font-large-1 mb-0">Welcome {{userDetails.userName}}</h2>
              <i class="first-media-subtext"><h4><b>{{userDetails.round?userDetails.round: 0 }}</b> Rounds Played
              </h4></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-6 col-md-6 col-12">
    <div class="card gradient-green-tea">
      <div class="card-body">
        <div class="card-block pt-2 pb-0">
          <div class="media">
            <div class="media-body white text-left">
              <h3 class="font-large-1 mb-0">{{userDetails.score}} Points</h3>
              <span>Team score</span>
            </div>
            <div class="media-right white text-right">
              <i class="icon-pie-chart font-large-1"></i>
            </div>
          </div>
        </div>
        <div id="Widget-line-chart" class="height-50 WidgetlineChart WidgetlineChartshadow mb-2">
          <x-chartist class="" [data]="WidgetlineChart.data" [type]="WidgetlineChart.type"
                      [options]="WidgetlineChart.options" [responsiveOptions]="WidgetlineChart.responsiveOptions"
                      [events]="WidgetlineChart.events">
          </x-chartist>
        </div>
      </div>
    </div>
  </div>

  <div class="col-xl-3 col-lg-6 col-md-6 col-12">
    <div class="card gradient-pomegranate">
      <div class="card-body">
        <div class="card-block pt-2 pb-0">
          <div class="media">
            <div class="media-body white text-left">
              <h3 class="font-large-1 mb-0">Position <b>{{getTeamRanking(topUsers, userDetails)}}</b> in the league</h3>
              <span>Of all players currently playing fantasy football</span>
            </div>
            <div class="media-right white text-right">
              <i class="icon-bulb font-large-1"></i>
            </div>
          </div>
        </div>
        <div id="Widget-line-chart" class="height-50 WidgetlineChart WidgetlineChartshadow mb-2">
          <x-chartist class="" [data]="WidgetlineChart.data" [type]="WidgetlineChart.type"
                      [options]="WidgetlineChart.options" [responsiveOptions]="WidgetlineChart.responsiveOptions"
                      [events]="WidgetlineChart.events">
          </x-chartist>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-3 col-lg-6 col-md-6 col-12">
    <div class="card gradient-ibiza-sunset">
      <div class="card-body">
        <div class="card-block pt-2 pb-0">
          <div class="media">
            <div class="media-body white text-left">
              <h3 class="font-large-1 mb-0"><b>{{totalTeamCost(userDetails)}}$</b> Total Team Cost</h3>
              <span>Based on price of all players in your team</span>
            </div>
            <div class="media-right white text-right">
              <i class="icon-wallet font-large-1"></i>
            </div>
          </div>
        </div>
        <div id="Widget-line-chart" class="height-50 WidgetlineChart WidgetlineChartshadow mb-2">
          <x-chartist class="" [data]="WidgetlineChart.data" [type]="WidgetlineChart.type"
                      [options]="WidgetlineChart.options" [responsiveOptions]="WidgetlineChart.responsiveOptions"
                      [events]="WidgetlineChart.events">
          </x-chartist>
        </div>

      </div>
    </div>
  </div>

</div>
<!--Statistics cards Ends-->

<div class="row">
  <div class="col-xl-12 col-lg-12 col-md-12 col-12">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">Top Players </h1>
        </div>
      </div>
      <section class="card-player">
        <ng-container *ngFor="let player of topPlayers; let i = index">
          <div class="card--content" *ngIf="i<10">
            <img [src]="player? player.jerseyUrl : '/assets/img/question-mark-80.png'">
            <div class="card--content-first"> {{player.lastName}}</div>
            <div class="card--content-second">
              <span class="card--content-second-1">{{i+1}}. </span>
              <span class="card--content-second-2">{{player.score}} pts </span>
            </div>
          </div>
        </ng-container>
      </section>
    </div>
  </div>
</div>

<div class="row" matchHeight="card">
  <div class="col-xl-8 col-lg-8 col-12" style="margin-top: -20px;">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">Top users </h1>
        </div>
      </div>
      <div class="card-body">
        <table class="table table-responsive-sm text-center">
          <thead align="left">
          <tr>
            <th></th>
            <th class="mobile-table">Captain</th>
            <th>Player Name</th>
            <th>Points</th>
            <th class="mobile-table">Status</th>
            <th>Team value</th>
          </tr>
          </thead>
          <tbody align="left">
          <tr *ngFor="let user of topUsers">
            <td align="right">
              <img class="item-image"
                   [src]="captainImage(user.players) ? captainImage(user.players).jerseyUrl : '/assets/img/question-mark-80.png'">
            </td>
            <td class="mobile-table">
              <span>{{captainImage(user.players)?captainImage(user.players).firstName:''}}
                        {{captainImage(user.players)?captainImage(user.players).lastName:''}}     </span>
            </td>
            <td>{{user.userName}}</td>
            <td>{{user.score}}</td>
            <td class="mobile-table">
              <a class="btn btn-raised btn-round btn-primary">Active</a>
            </td>
            <td>$ {{totalTeamCostByPlayer(user.players)}}</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-lg-4 col-12">
    <iframe
      src="https://widgets.worldfootball.com/competition/419#?c_header=#ec1d23&columns=mp,mw,md,ml&height_unit=pixels&tabs=matches&width_unit=percent"
      width="100%" height="450" frameborder="0"></iframe>
  </div>
</div>

<div class="row" matchHeight="card">
  <div class="col-xl-8 col-lg-12 col-12">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">User Progress </h1>
        </div>
      </div>
      <div class="card-body" *ngIf="userProgress.length>0">
        <div class="card-block">
          <div class="chart-info mb-2">
            <span class="text-uppercase mr-3"><i class="fa fa-circle primary font-small-2 mr-1"></i> Points</span>
          </div>
          <div id="line-area2" class="height-900 lineArea2">
            <x-chartist class="" [data]="lineArea2.data" [type]="lineArea2.type" [options]="lineArea2.options"
                        [responsiveOptions]="lineArea2.responsiveOptions">

            </x-chartist>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-lg-12 col-12">
    <div class="card gradient-ibiza-sunset">
      <div class="card-body">
        <div class="card-block">
          <h4 class="card-title white">Team progress</h4>
          <div class="p-2 text-center">
            <a class="btn btn-raised btn-round bg-white mx-3 px-3">Round</a>
          </div>
          <div class="my-3 text-center white">
            <a class="font-large-2 d-block mb-1">15 Points<span class="ft-arrow-up font-large-2"></span></a>
          </div>
        </div>
        <div id="lineChart" class="height-250 lineChart lineChartShadow">
          <x-chartist class="" [data]="lineChart.data" [type]="lineChart.type" [options]="lineChart.options"
                      [responsiveOptions]="lineChart.responsiveOptions" [events]="lineChart.events">
          </x-chartist>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row" matchHeight="card">
  <div class="col-xl-4 col-lg-12">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">Overall Data </h1>
        </div>
      </div>
      <div class="card-body">
        <div id="bar-chart" class="height-250 BarChartShadow BarChart">
          <x-chartist class="" [data]="BarChart.data" [type]="BarChart.type" [options]="BarChart.options"
                      [responsiveOptions]="BarChart.responsiveOptions" [events]="BarChart.events">
          </x-chartist>
        </div>

        <div class="card-block">
          <div class="row">
            <div class="col text-center">
              <span class="gradient-pomegranate d-block rounded-circle mx-auto mb-2"
                    style="width:10px; height:10px;"></span>
              <span class="font-large-1 d-block mb-2">48</span>
              <span>Passes</span>
            </div>
            <div class="col text-center">
              <span class="gradient-green-tea d-block rounded-circle mx-auto mb-2"
                    style="width:10px; height:10px;"></span>
              <span class="font-large-1 d-block mb-2">932</span>
              <span>KM Run</span>
            </div>
            <div class="col text-center">
              <span class="gradient-blackberry d-block rounded-circle mx-auto mb-2"
                    style="width:10px; height:10px;"></span>
              <span class="font-large-1 d-block mb-2">26</span>
              <span>Changes</span>
            </div>
            <div class="col text-center">
              <span class="gradient-ibiza-sunset d-block rounded-circle mx-auto mb-2"
                    style="width:10px; height:10px;"></span>
              <span class="font-large-1 d-block mb-2">57</span>
              <span>Goals</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-lg-12">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">My Players </h1>
        </div>
      </div>
      <div class="card-body">
        <div class="card-block">
          <div class="media mb-1" *ngFor="let player of userDetails.players">
            <a>
              <img class="player-image"
                   [src]="player.jerseyUrl">
            </a>
            <div class="media-body">
              <h4 class="font-medium-1 mt-1 mb-0">{{player.firstName}} {{player.lastName}}</h4>
              <p class="text-muted font-small-3">{{player.position}} </p>
            </div>
            <div class="mt-1">
              ${{player.price}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xl-4 col-lg-12">
    <div class="card">
      <div class="card-header">
        <div class="aglf-header-left">
          <img [src]="'assets/img/bgred.png'">
        </div>
        <div class="aglf-header-right">
          <h1 class="card-title">Statistics comparison </h1>
        </div>
      </div>
      <div class="card-body">

        <p class="font-medium-2 text-muted text-center">Compared to the best result</p>
        <div id="donut-dashboard-chart" class="height-250 donut">
          <x-chartist class="" [data]="DonutChart.data" [type]="DonutChart.type" [options]="DonutChart.options"
                      [responsiveOptions]="DonutChart.responsiveOptions"
                      [events]="DonutChart.events">
          </x-chartist>
        </div>

        <div class="card-block">
          <div class="row mb-3">
            <div class="col">
              <span class="mb-1 text-muted d-block">23% - Passes</span>
              <div class="progress" style="height: 5px;">
                <div class="progress-bar bg-success" role="progressbar" style="width: 23%;" aria-valuenow="23"
                     aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col">
              <span class="mb-1 text-muted d-block">14% - Km Run</span>
              <div class="progress" style="height: 5px;">
                <div class="progress-bar bg-amber" role="progressbar" style="width: 14%;" aria-valuenow="14"
                     aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
          <div class="row mb-2">
            <div class="col">
              <span class="mb-1 text-muted d-block">35% - Changes</span>
              <div class="progress" style="height: 5px;">
                <div class="progress-bar bg-deep-purple bg-lighten-1" role="progressbar" style="width: 35%;"
                     aria-valuenow="35" aria-valuemin="0"
                     aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col">
              <span class="mb-1 text-muted d-block">28% - Goals</span>
              <div class="progress" style="height: 5px;">
                <div class="progress-bar bg-blue" role="progressbar" style="width: 28%;" aria-valuenow="28"
                     aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
